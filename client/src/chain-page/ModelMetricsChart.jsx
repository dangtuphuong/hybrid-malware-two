/* eslint-disable react/prop-types */
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  Tooltip,
  CartesianGrid,
} from "recharts";
import { Card } from "react-bootstrap";

const ModelMetricsChart = ({ data, dataKey, label, loading }) => {
  const formatDate = (date) => {
    const d = new Date(date);
    const day = String(d.getDate()).padStart(2, "0");
    const month = String(d.getMonth() + 1).padStart(2, "0");
    const year = String(d.getFullYear()).slice(-2);
    return `${day}/${month}/${year}`;
  };
  return (
    <Card className="mb-3" style={{ backgroundColor: "white" }}>
      <Card.Body>
        <Card.Title className="font-weight-bold">{label}</Card.Title>
        {loading ? (
          <p>Loading...</p>
        ) : (
          <div style={{ width: 600, height: 300 }}>
            <LineChart width={600} height={300} data={data}>
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="created_at" tickFormatter={formatDate} />
              <YAxis />
              <Tooltip
                labelFormatter={(label) => new Date(label).toLocaleString()}
              />
              <Line type="monotone" dataKey={dataKey} stroke="#8884d8" />
            </LineChart>
          </div>
        )}
      </Card.Body>
    </Card>
  );
};

export default ModelMetricsChart;
