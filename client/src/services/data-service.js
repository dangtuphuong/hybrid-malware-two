import axios from "axios";

const API_URL = "/api"; // Base API URL

const options = { headers: { "Content-Type": "application/json" } };

// Existing API calls
const getReports = () => axios.get(`${API_URL}/reports`, options);
const getReportById = (id) => axios.get(`${API_URL}/report/${id}`, options);
const trainModels = (params) => axios.post(`${API_URL}/train`, params); // Train models API
const trainChainModel = (params) => axios.post(`${API_URL}/chain`, params);
const predictByModel = (params) => axios.post(`${API_URL}/predict`, params); // Predict using model
const getModels = () => axios.get(`${API_URL}/models`, options); // Get models list
const getChains = () => axios.get(`${API_URL}/chain-models`, options);
const getChainById = (id) => axios.get(`${API_URL}/chain/${id}`, options);

// New function to fetch malware datasets
const getMalwareDataset = () => axios.get(`${API_URL}/malware`, options); // Fetch malware datasets

// Export all service functions
const DataService = {
  getReports,
  getReportById,
  trainModels,
  trainChainModel,
  predictByModel,
  getModels,
  getMalwareDataset, // Added malware dataset fetching function
  getChains,
  getChainById,
};

export default DataService;
