import React from "react";
import { Card } from "react-bootstrap"; // Use Card for background
import "./Chart.css"; // Import the CSS file for styling

// eslint-disable-next-line react/prop-types
export default function BarChart({ label, data, loading }) {
  // Get the keys and values from the data
  const labels = Object.keys(data);
  const series = Object.values(data);
  const maxValue = Math.max(...series); // Find the maximum value for scaling the bars

  return (
    <Card className="mb-3" style={{ backgroundColor: "white" }}>
      <Card.Body>
        <Card.Title className="font-weight-bold">{label}</Card.Title>
        {loading ? (
          <p>Loading...</p> // Show loading text if loading
        ) : (
          <div className="chart-container">
            {labels.map((item, index) => (
              <div key={index} className="bar-container">
                <div
                  className="bar"
                  style={{
                    height: `${(series[index] / maxValue) * 100}%`, // Set bar height relative to the max value
                    backgroundColor: "#007bff", // Bootstrap primary color
                  }}
                />
                <div className="label">{item}</div>{" "}
                {/* Display label under the bar */}
              </div>
            ))}
          </div>
        )}
      </Card.Body>
    </Card>
  );
}
