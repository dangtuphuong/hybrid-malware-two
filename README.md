## Installation

### Clone the project repository:

```bash
git clone https://github.com/dangtuphuong/hybrid-malware-two.git
cd hybrid-malware-two
```

### Set up a Conda environment and install dependencies:

```bash
cd server

conda env create -f environment.yml
conda activate hybrid-malware-two
```

Create .env file in the server directory and add database credentials in the file

### Install client's dependencies:

```bash
cd client

npm install
```

## Running the Application

Start the backend server:

```bash
# Make sure you are in the server directory and the virtual environment is activated
python app.py
```

Start the frontend in development mode:

```bash
# Open a new terminal and make sure you are in the client directory
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

## Database Setup

```sql
CREATE DATABASE hybrid_malware_two_db;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    role TINYINT(1) NOT NULL CHECK (role IN (0, 1))
);

INSERT INTO users (name, email, password, role)
VALUES
    ('Michael Two', 'user@malware.two', '123', 0),
    ('Emily Two', 'admin@malware.two', '123', 1);

CREATE TABLE model_metrics (
    id VARCHAR(36) PRIMARY KEY,
    accuracy FLOAT,
    `precision` FLOAT,
    recall FLOAT,
    f1 FLOAT,
    classification_report JSON
);

CREATE TABLE report (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255),
    lgbm_model_id VARCHAR(36),
    knn_model_id VARCHAR(36),
    hybrid_model_id VARCHAR(36),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(255),
    malware_distribution JSON,
    FOREIGN KEY (lgbm_model_id) REFERENCES model_metrics(id),
    FOREIGN KEY (knn_model_id) REFERENCES model_metrics(id),
    FOREIGN KEY (hybrid_model_id) REFERENCES model_metrics(id)
);

CREATE TABLE chain (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    type VARCHAR(50) NOT NULL
);

CREATE TABLE chain_model_metrics (
    chain_id INT,
    model_metrics_id VARCHAR(36),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (chain_id, model_metrics_id),
    FOREIGN KEY (chain_id) REFERENCES chain(id),
    FOREIGN KEY (model_metrics_id) REFERENCES model_metrics(id)
);

```
